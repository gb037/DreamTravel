    <?php	        $tripID = $_POST['tripID'];		$travellerID = $_POST['travellerID'];		$bookingID = $_POST['bookingID'];		$price = $_POST['price'];    				//Add 1 to $placesLeft in Trips         function updateTripInDB($db) {                        // get the data from the front end;			$tripID = $_POST['tripID'];            						$sqlQuery = "UPDATE Trips 						SET placesLeft = placesLeft + 1						WHERE tripID = :tripID";						$params = array(									'tripID' => $tripID									);											$result = $db->prepare($sqlQuery);						$result->execute($params);        }				//Disassociate booking ID with Traveller user ID        function removeBookingTravellerInDB($db) {                        // get the data from the front end			$travellerID = $_POST['travellerID'];							$sqlQuery = "DELETE FROM bookings_users WHERE user_id=?";			    //prepare the query            $query = $db->prepare($sqlQuery);                        //execute the query            $query->execute(array($travellerID));        }					//In bookings, take 1 off $noOfTravs and take trip Price off of bookingPrice        function updateBookingInDB($db) {            // get the data from the front end;			$bookingID = $_POST['bookingID'];			$price = $_POST['price'];            						$sqlQuery = "UPDATE Bookings 						SET noOfTravs = noOfTravs - 1, bookingPrice = bookingPrice - :price						WHERE ID = :ID";						$params = array(									'ID' => $bookingID,									'price' => $price									);											$result = $db->prepare($sqlQuery);						$result->execute($params);		        }				//Disassociate user ID to groupID 3 = Travellers        function removeGroupUserInDB($db) {            			// get the data from the front end			$travellerID = $_POST['travellerID'];							$sqlQuery = "DELETE FROM groups_users WHERE user_id=?";			    //prepare the query            $query = $db->prepare($sqlQuery);                        //execute the query            $query->execute(array($travellerID));        }					//Remove Traveller data in the database         function removeTravellerInDB($db) {                        // get the data from the front end            $travellerID = $_POST['travellerID'];         		$sqlQuery = "DELETE FROM Users WHERE ID=?";			    //prepare the query            $query = $db->prepare($sqlQuery);                        //execute the query            $query->execute(array($travellerID));             // check if the customer was successfully inserted in the database            if ($query) {				//once the SQL write operation is complete, redirect to a receipt page                header("Location: upcomingBookings.php");				die();            }            else {                //redirect to an error page                header("Location: error.php");				die();            }                    }                /* Main body */        //connect to the DB        $dsn = 'mysql:host=127.0.0.1;dbname=dream-travel-v05';        $user = 'root';        $password = '';                try {            $db = new PDO($dsn, $user, $password);            $db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);        } catch (PDOException $e) {            //           echo 'Connection failed: ' . $e->getMessage();            die('Sorry, database problem');        }        		       				updateTripInDB($db);		removeBookingTravellerInDB($db);		updateBookingInDB($db);		removeGroupUserInDB($db);		removeTravellerInDB($db);    ?>